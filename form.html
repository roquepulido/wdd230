<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roque Alberto Pulido - WDD 230 - Web Frontend Development </title>
    <meta name="description" content="WDD 230 - Web Frontend Development Roque Alberto Pulido course assignment portal">
    <meta name="author" content="Roque Pulido">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./styles/base.css">
    <link rel="stylesheet" href="./styles/larger.css">
</head>

<body>
    <header>
        <img src="images/profile.jpg" alt="Roque Alberto Pulido" width="75" height="100">
        <span>Roque A. Pulido</span>
    </header>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="#">Chamber</a></li>
            <li><a href="./week01/chamber-site-plan.html">Site Plan</a></li>
            <li><a href="form.html" class="active">Form</a></li>
        </ul>
    </nav>
    <main>
        <div>
            <form action="record.html" method="get">
                <div class="">
                    <label for="username">Username</label>
                    <input type="text" name="username" id="username" required onchange="activeButton()">
                </div>
                <div class="">
                    <label for="password">Password</label>
                    <input type="password" name="password" id="password" pattern="[A-Za-z0-9]{8,}" required
                        onchange="activeButton()">
                    <span id="passwordMsg" class="red-text"></span>
                </div>
                <div class="">
                    <label for="passwordRepeat">Repeat Password</label>
                    <input type="password" name="passwordRepeat" id="passwordRepeat" pattern="[A-Za-z0-9]{8,}" required
                        onchange="activeButton()">
                </div>
                <div class="">
                    <label for="email">Email</label>
                    <input type="email" name="email" id="email" pattern="[\w.]+@byui\.edu"
                        placeholder="Please enter a valid email address" required onchange="activeButton()">
                </div>
                <div class="">
                    <label for="rate">Page Rating</label>
                    <span id="rateValue"></span>
                    <input type="range" name="rate" id="rate" min="1" max="10" step="1">
                </div>
                <div><button type="submit" id="submitButton" disabled>Send</button></div>
            </form>
        </div>
    </main>
    <footer>
        <div class="row-footer">
            <p>&copy;<span id="year"></span></p>
            <p>
                &#128125; Roque Alberto Pulido &#128126;
            </p>
            <p class="flag"> MÃ©xico
                <img src="./images/Mexico-Flag-icon.png" alt="mx flag" />
            </p>
        </div>
        <div class="row-footer">
            <p id="lastModified"></p>
        </div>
    </footer>
    <script src="scripts/getDates.js"></script>
    <script>

        const usernameInput = document.getElementById('username');
        const emailInput = document.getElementById('email');
        const inputPassword = document.getElementById('password');
        const inputPasswordConfirm = document.getElementById('passwordRepeat');
        const rangeInput = document.getElementById('rate');
        const message = document.getElementById("passwordMsg");
        const submitButton = document.getElementById("submitButton");

        inputPasswordConfirm.addEventListener("change", () => {
            if (inputPassword.value !== inputPasswordConfirm.value) {
                message.textContent = "Password don't match";
                inputPasswordConfirm.style.backgroundColor = "#f00";
            } else {
                message.textContent = "";
                inputPasswordConfirm.style.backgroundColor = "#fff";
            }
        });

        rangeInput.addEventListener('change', () => {
            document.getElementById('rateValue').innerText = rangeInput.value;
        })

        function activeButton() {
            if (inputPassword.value &&
                inputPasswordConfirm.value &&
                usernameInput.value &&
                emailInput.value) {
                submitButton.removeAttribute("disabled");
            }
            else {
                submitButton.setAttribute("disabled");
            }
        }

    </script>
</body>
</body>

</html>